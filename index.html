<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/sql-wasm.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css"
    />
  </head>
  <body>
    <a
      class="github-fork-ribbon"
      href="https://github.com/patcon/polislike-opinion-map-painting"
      data-ribbon="Fork me on GitHub"
      title="Fork me on GitHub"
      >Fork me on GitHub</a
    >

    <label for="color">Choose color: </label>
    <input type="color" id="color" value="#ff0000" />
    <label>
      <input type="checkbox" id="toggle-additive" />
      Additive painting by default
    </label>
    <span>(Otherwise, cmd-click for additive)</span>

    <div id="color-palette" style="margin-top: 8px"></div>

    <label for="dataset">Dataset:</label>
    <select id="dataset">
      <option value="bg2050">Bowling Green 2050</option>
      <option value="jean-lou">Jean-Lou AI convo</option>
      <!-- Add more dataset folders here -->
    </select>

    <div id="plot-wrapper">
      <svg id="plot1"></svg>
      <svg id="plot2"></svg>
      <svg id="plot3"></svg>
    </div>

    <div
      style="
        display: flex;
        align-items: center;
        gap: 20px;
        margin-top: 12px;
        font-family: sans-serif;
      "
    >
      <label style="display: flex; align-items: center; gap: 6px">
        <input type="checkbox" id="include-unpainted" />
        Include unpainted points as group
      </label>
      <div id="label-counts"></div>
    </div>
    <button id="run-analysis">Run Group Analysis</button>
    <label>
      <input type="checkbox" id="auto-analyze-checkbox" checked />
      Auto-analyze on selection
    </label>
    <div
      id="rep-warning"
      style="
        margin-top: 20px;
        background: #fff8e1;
        border: 1px solid #f1c40f;
        padding: 10px;
        font-family: sans-serif;
      "
    >
      ⚠️ <strong>Note:</strong> Representative group statement calculations are
      <em>broken</em> and don't give a clear story right now. See
      <a
        href="https://gist.github.com/patcon/0fe7e07ff9dae3a01b2ad49798d98306"
        target="_blank"
        >this data science analysis notebook</a
      >
      for a working (but non-dynamic) example of representative statements found
      for BG2050.
    </div>
    <div
      id="rep-comments-output"
      style="margin-top: 30px; font-family: sans-serif"
    ></div>

    <script src="app.js"></script>
  </body>
</html>
